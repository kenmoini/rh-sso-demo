apiVersion: v1
kind: ConfigMap
metadata:
  name: furever-home-frontend-js-overrides
  labels:
    app: furever-home-frontend
    app.kubernetes.io/name: furever-home-frontend
    app.kubernetes.io/part-of: furever-home-frontend
    component: configmap
data:
  overrides.js: |
    var API_ENDPOINT = "https://furever-home-backend-a-sso-app-demo.apps.core-ocp.kemo.labs";
    var JUDGE_ENDPOINT = "https://furever-home-adoption-judge-usvc-a-sso-app-demo.apps.core-ocp.kemo.labs";
    var USER_ID = 1;
  functions.js: |
    console.log('hello from the functions file!');
  keycloak-shared.js: |
    function initKeycloak() {
      var keycloak = new Keycloak(window.location.origin + "/assets/js/container/keycloak.json");
      keycloak.init().then(function(authenticated) {
        console.log(authenticated);
        if (authenticated) {
          username = keycloak.subject;
          token = keycloak.token;
          jQuery(".text-username").text(username);
        }
        alert(authenticated ? 'authenticated' : 'not authenticated');
      }).catch(function(e) {
        alert('failed to initialize');
        console.log(e);
      });
    }
  keycloak.json: |
    {
      "realm": "petcorp",
      "auth-server-url": "https://rh-sso-a-rh-sso-demo.apps.core-ocp.kemo.labs/auth/",
      "ssl-required": "none",
      "resource": "separate-client",
      "public-client": true,
      "confidential-port": 0
    }